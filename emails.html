<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قائمة الإيميلات - النطاقات</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; padding: 30px; background:#f5f5f5; color:#333 }
        .container{ max-width:900px; margin:0 auto; background:#fff; padding:30px; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.08)}
        h1{ color:#2c3e50; margin:0 0 10px }
        table{ width:100%; border-collapse:collapse; margin-top:18px }
        th, td{ padding:10px; border-bottom:1px solid #e6e6e6; text-align:right }
        th{ background:#2c3e50; color:#fff }
        .email{ font-weight:700; color:#2980b9 }
        .print-btn{ display:block; width:200px; margin:18px auto; padding:10px; background:#2980b9; color:#fff; border:none; border-radius:6px; cursor:pointer }
        .print-btn:hover{ background:#1f6390 }
        @media print{ .print-btn{ display:none } }
    </style>
</head>
<body>
    <button class="print-btn" onclick="window.print()">طباعة / حفظ كـ PDF</button>
    <div class="container">
        <header>
            <h1>قائمة عناوين البريد الإلكتروني (info@domain)</h1>
            <p>أنشئت في: <span id="date"></span></p>
        </header>

        <table id="emails-table">
            <thead>
                <tr>
                    <th>اسم الشركة</th>
                    <th>النطاق</th>
                    <th>البريد الإلكتروني</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be generated by script -->
            </tbody>
        </table>
    </div>

    <script>
        // Report date (Arabic - Libya)
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById('date').innerText = new Date().toLocaleDateString('ar-LY', options);

        // Domain data copied from `index.html` (companies + domains)
        const data = [
            { company: 'شركة أبراج المدينة', domain: 'abrajalmadena.com' },
            { company: 'شركة بوابة أفريقيا', domain: 'africagate.ly' },
            { company: 'شركة الأبراج الحديثة', domain: 'alabrajalhadeta.ly' },
            { company: 'مجموعة الخبرة', domain: 'alkhebragroup.ly' },
            { company: 'مجموعة الخبرة', domain: 'alkhebragroup.net' },
            { company: 'شركة الثقيل', domain: 'altakeel.com' },
            { company: 'شركة أنوار المدينة', domain: 'anwaralmadina.com' },
        ];

        const tbody = document.querySelector('#emails-table tbody');

        function normalizeDomain(d){
            // remove protocol or www and trailing slashes if present
            return d.replace(/^https?:\/\//i, '').replace(/^www\./i, '').replace(/\/$/, '');
        }

        data.forEach(item => {
            const domain = normalizeDomain(item.domain);
            const email = `info@${domain}`;

            const tr = document.createElement('tr');

            const tdCompany = document.createElement('td'); tdCompany.textContent = item.company;
            const tdDomain = document.createElement('td'); tdDomain.textContent = domain;
            const tdEmail = document.createElement('td');

            const a = document.createElement('a');
            a.href = `mailto:${email}`;
            a.className = 'email';
            a.textContent = email;
            tdEmail.appendChild(a);

            tr.appendChild(tdCompany);
            tr.appendChild(tdDomain);
            tr.appendChild(tdEmail);

            tbody.appendChild(tr);
        });
    </script>
</body>
</html>